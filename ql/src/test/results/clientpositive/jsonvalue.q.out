PREHOOK: query: create temporary table jsonvalue (jsonval string, defaultval string)
PREHOOK: type: CREATETABLE
PREHOOK: Output: database:default
PREHOOK: Output: default@jsonvalue
POSTHOOK: query: create temporary table jsonvalue (jsonval string, defaultval string)
POSTHOOK: type: CREATETABLE
POSTHOOK: Output: database:default
POSTHOOK: Output: default@jsonvalue
PREHOOK: query: insert into jsonvalue values
  ('{"name" : "harry", "age" : 17, "gpa" : 3.03, "honors" : false, "classes" : [ "math", "history" ], "numbers" : [ 1 , 2]}', 'ron'),
  ('{"name" : "hermione", "age" : 18, "gpa" : 3.99, "honors" : true, "classes" : [ "science", "french" ], "numbers" : [10, 20]}', 'ginny'),
  ('{"name" : null, "age" : null, "gpa" : null, "honors" : null, "classes" : null}', 'no name'),
  ('{}', 'empty'),
  ('{ "nested" : { "street" : "12 Grimmauld Place", "years at this address" : 1 } }', 'whatever')
PREHOOK: type: QUERY
PREHOOK: Input: _dummy_database@_dummy_table
PREHOOK: Output: default@jsonvalue
POSTHOOK: query: insert into jsonvalue values
  ('{"name" : "harry", "age" : 17, "gpa" : 3.03, "honors" : false, "classes" : [ "math", "history" ], "numbers" : [ 1 , 2]}', 'ron'),
  ('{"name" : "hermione", "age" : 18, "gpa" : 3.99, "honors" : true, "classes" : [ "science", "french" ], "numbers" : [10, 20]}', 'ginny'),
  ('{"name" : null, "age" : null, "gpa" : null, "honors" : null, "classes" : null}', 'no name'),
  ('{}', 'empty'),
  ('{ "nested" : { "street" : "12 Grimmauld Place", "years at this address" : 1 } }', 'whatever')
POSTHOOK: type: QUERY
POSTHOOK: Input: _dummy_database@_dummy_table
POSTHOOK: Output: default@jsonvalue
POSTHOOK: Lineage: jsonvalue.defaultval SCRIPT []
POSTHOOK: Lineage: jsonvalue.jsonval SCRIPT []
PREHOOK: query: select json_value(jsonval, '$.name'),
       json_value(jsonval, '$.age', 1L),
       json_value(jsonval, '$.age', 1),
       json_value(jsonval, '$.gpa', 100.00),
       json_value(jsonval, '$.honors', true)
    from jsonvalue
PREHOOK: type: QUERY
PREHOOK: Input: default@jsonvalue
#### A masked pattern was here ####
POSTHOOK: query: select json_value(jsonval, '$.name'),
       json_value(jsonval, '$.age', 1L),
       json_value(jsonval, '$.age', 1),
       json_value(jsonval, '$.gpa', 100.00),
       json_value(jsonval, '$.honors', true)
    from jsonvalue
POSTHOOK: type: QUERY
POSTHOOK: Input: default@jsonvalue
#### A masked pattern was here ####
harry	17	17	3	false
hermione	18	18	4	true
NULL	NULL	NULL	NULL	NULL
NULL	NULL	NULL	NULL	NULL
NULL	NULL	NULL	NULL	NULL
PREHOOK: query: select json_value(jsonval, '$.name', 'fred', 'DEFAULT'),
       json_value(jsonval, '$.age', 1L, 'DEFAULT'),
       json_value(jsonval, '$.age', 1, 'DEFAULT'),
       json_value(jsonval, '$.gpa', 1.00, 'DEFAULT'),
       json_value(jsonval, '$.honors', true, 'DEFAULT')
    from jsonvalue
PREHOOK: type: QUERY
PREHOOK: Input: default@jsonvalue
#### A masked pattern was here ####
POSTHOOK: query: select json_value(jsonval, '$.name', 'fred', 'DEFAULT'),
       json_value(jsonval, '$.age', 1L, 'DEFAULT'),
       json_value(jsonval, '$.age', 1, 'DEFAULT'),
       json_value(jsonval, '$.gpa', 1.00, 'DEFAULT'),
       json_value(jsonval, '$.honors', true, 'DEFAULT')
    from jsonvalue
POSTHOOK: type: QUERY
POSTHOOK: Input: default@jsonvalue
#### A masked pattern was here ####
harry	17	17	3	false
hermione	18	18	4	true
NULL	NULL	NULL	NULL	NULL
fred	1	1	1	true
fred	1	1	1	true
PREHOOK: query: select json_value(jsonval, '$.name', defaultval, 'DEFAULT')
    from jsonvalue
PREHOOK: type: QUERY
PREHOOK: Input: default@jsonvalue
#### A masked pattern was here ####
POSTHOOK: query: select json_value(jsonval, '$.name', defaultval, 'DEFAULT')
    from jsonvalue
POSTHOOK: type: QUERY
POSTHOOK: Input: default@jsonvalue
#### A masked pattern was here ####
harry
hermione
NULL
empty
whatever
PREHOOK: query: select 
       json_value(jsonval, '$.classes', array('a')),
       json_value(jsonval, '$.numbers', array(1)),
       json_value(jsonval, '$.classes[$index]', 'a', 'NULL', 'NULL', 'index', 0)
    from jsonvalue
PREHOOK: type: QUERY
PREHOOK: Input: default@jsonvalue
#### A masked pattern was here ####
POSTHOOK: query: select 
       json_value(jsonval, '$.classes', array('a')),
       json_value(jsonval, '$.numbers', array(1)),
       json_value(jsonval, '$.classes[$index]', 'a', 'NULL', 'NULL', 'index', 0)
    from jsonvalue
POSTHOOK: type: QUERY
POSTHOOK: Input: default@jsonvalue
#### A masked pattern was here ####
["math","history"]	[1,2]	math
["science","french"]	[10,20]	science
NULL	NULL	NULL
NULL	NULL	NULL
NULL	NULL	NULL
PREHOOK: query: select json_value(jsonval, '$.nested.street'), 
       json_value(jsonval, '$.nested."years at this address"', 1),
       json_value(jsonval, '$.nested', named_struct('street', 'a', 'years at this address', 1))
    from jsonvalue
PREHOOK: type: QUERY
PREHOOK: Input: default@jsonvalue
#### A masked pattern was here ####
POSTHOOK: query: select json_value(jsonval, '$.nested.street'), 
       json_value(jsonval, '$.nested."years at this address"', 1),
       json_value(jsonval, '$.nested', named_struct('street', 'a', 'years at this address', 1))
    from jsonvalue
POSTHOOK: type: QUERY
POSTHOOK: Input: default@jsonvalue
#### A masked pattern was here ####
NULL	NULL	NULL
NULL	NULL	NULL
NULL	NULL	NULL
NULL	NULL	NULL
12 Grimmauld Place	1	{"street":"12 Grimmauld Place","years at this address":1}
